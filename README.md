# Malware Download Scanner

다운로드하는 파일을 서버로 전송하여 악성 여부를 검사하고, 안전한 파일만 다운로드하도록 허용하는 크롬 확장 프로그램입니다.

## 주요 기능

*   **자동 다운로드 검사:** 사용자가 파일을 다운로드할 때, 다운로드를 일시 중단하고 파일을 분석 서버로 보내 악성 여부를 검사합니다.
*   **악성 파일 차단:** 파일이 악성으로 판단될 경우, 다운로드를 즉시 차단하고 사용자에게 알림을 표시합니다.
*   **안전한 파일 자동 재개:** 파일이 안전하다고 판단되면, 중단되었던 다운로드를 자동으로 재개합니다.
*   **웹페이지 첨부파일 스캔:** 특정 웹페이지(예: 네이버 메일)에서 첨부파일 목록을 스캔하고 각 파일의 안전 여부를 아이콘으로 표시하는 기능을 제공합니다.

## 설치 방법

1.  이 저장소를 로컬 컴퓨터에 복제(clone)하거나 다운로드합니다.
2.  `background.js` 파일을 열어 `SERVER_URL` 상수를 실제 운영 중인 파일 분석 서버의 주소로 변경합니다.
    ```javascript
    const SERVER_URL = "https://your-analysis-server.com";
    ```
3.  Chrome 브라우저를 열고 주소창에 `chrome://extensions`를 입력하여 확장 프로그램 관리 페이지로 이동합니다.
4.  우측 상단의 '개발자 모드'를 활성화합니다.
5.  '압축 해제된 확장 프로그램을 로드합니다' 버튼을 클릭하고, 1번 단계에서 다운로드한 프로젝트 폴더를 선택합니다.
6.  설치가 완료되면 브라우저 툴바에 아이콘이 추가됩니다.

## 파일 구성

*   `manifest.json`: 확장 프로그램의 이름, 버전, 권한 등 기본 정보를 정의하는 파일입니다.
*   `background.js`: 다운로드 이벤트를 감지하고, 서버와 통신하여 파일의 악성 여부를 판단하는 핵심 로직을 포함하는 백그라운드 스크립트입니다.
*   `content-script.js`: 특정 웹페이지에 삽입되어 첨부파일 스캔 버튼을 추가하고, 스캔 결과를 시각적으로 표시하는 스크립트입니다. 현재는 개발 중에 있습니다.
*   `icon.png`: 확장 프로그램의 아이콘 파일입니다.

## 동작 방식

1.  사용자가 웹에서 파일 다운로드를 시작하면 `background.js`가 이를 감지합니다.
2.  확장 프로그램은 즉시 원래의 다운로드를 취소하고, 다운로드할 파일의 URL과 파일명을 분석 서버로 전송합니다.
3.  분석 서버는 해당 파일을 분석하여 악성 여부를 판별하고 결과를 확장 프로그램에 반환합니다.
4.  **(안전할 경우)** 서버가 파일을 안전하다고 판단하면, 확장 프로그램은 원래의 URL을 통해 파일 다운로드를 다시 시작합니다.
5.  **(악성일 경우)** 서버가 파일을 악성으로 판단하면, 다운로드는 차단된 상태로 유지되며 사용자에게 위험을 알리는 알림이 표시됩니다.

## 사전 준비사항

이 확장 프로그램이 정상적으로 동작하려면 파일의 악성 여부를 분석하고 결과를 반환하는 서버가 필요합니다. `background.js` 파일 내의 `SERVER_URL`을 해당 서버의 API 엔드포인트로 올바르게 설정해야 합니다.
